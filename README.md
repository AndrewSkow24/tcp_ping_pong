# TCP PING-PONG Сервер и Клиенты

Асинхронный TCP сервер с двумя клиентами, реализующий протокол ping-pong
с логированием.

## Требования

- Python 3.10+
- asyncio

## Структура проекта 

```
tcp_ping_pong/
├── server.py           # Серверная часть
├── client.py          # Клиентская часть  
├── launcher.py        # Лаунчер для запуска всех процессов
├── requirements.txt   # Зависимости
└── logs/              # Директория для логов
```


## Установка и запуск

### 1. Клонирование и настройка

```bash
# Клонируйте репозиторий
git clone https://github.com/AndrewSkow24/tcp_ping_pong
cd tcp_ping_pong

# Убедитесь, что используете Python 3.10+
python --version

# Создайте виртуальное окружение (опционально)
python -m venv venv
source venv/bin/activate
# На Windows: venv\Scripts\activate
```

### Рекомендуемый способ запуска (через лаунчер)
```bash
# Запуск на 30 секунд (для тестирования)
python launcher.py --timeout 30

# Запуск на 5 минут с 2 клиентами
python launcher.py --timeout 300 --clients 2

# Запуск с отладочным выводом
python launcher.py --timeout 60 --debug
```

## Особенности реализации
### Сервер:

- Асинхронная обработка множества клиентов

- 10% вероятность игнорирования запросов

- Задержка ответа 100-1000 мс

- Keepalive каждые 5 секунд всем клиентам

- Сквозная нумерация всех ответов

### Клиенты:
- Случайные интервалы отправки 300-3000 мс

- Таймаут ожидания ответа: 2 секунды

- Автоматическое переподключение при разрыве

- Отдельная задача для приёма keepalive

### Логирование:
- Форматирование времени с миллисекундами

- Корректная обработка таймаутов и игнорированных запросов

- Раздельные файлы логов для каждого компонента

## Параметры командной строки

### Сервер:
```
python server.py --help
--host: Хост для прослушивания (по умолчанию: 127.0.0.1)

--port: Порт (по умолчанию: 8888)

--log: Файл лога (по умолчанию: logs/server.log)

--timeout: Время работы в секундах (по умолчанию: 300)

--debug: Включить отладочный вывод
```

### Клиент:
```
python client.py --help
--id: Уникальный ID клиента (обязательно)

--host: Хост сервера (по умолчанию: 127.0.0.1)

--port: Порт сервера (по умолчанию: 8888)

--log: Файл лога (по умолчанию: logs/client_<id>.log)

--timeout: Время работы в секундах (по умолчанию: 300)

--debug: Включить отладочный вывод
```


### Лаунчер:
```
python launcher.py --help
--timeout: Время работы в секундах (по умолчанию: 300)

--clients: Количество клиентов (по умолчанию: 2)

--debug: Включить отладочный вывод
```


